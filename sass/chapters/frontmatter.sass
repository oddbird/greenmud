// Import --------------------------------------------------------------------
@import ../defaults/default-mixins

// title page ----------------------------------------------------------------

$noise        : 'frontmatter/titlepage/noise.png'
$line         : 'frontmatter/titlepage/line.png'
$titletree    : 'frontmatter/titlepage/titletree.png'
$scribble     : 'frontmatter/titlepage/scribble.png'
$scribble-sm  : 'frontmatter/titlepage/scribble_sm.png'
$bird         : 'frontmatter/titlepage/bird.png'

$the    : $medpx + 8px
$green1 : $the + 6px
$green2 : $green1 + 6px

+keyframes(linetiny)
  0%
    background-position: image-width($line) bottom
  100%
    background-position: 0 bottom

+keyframes(line)
  0%
    background-position: image-width($line) center
  100%
    background-position: 0 center

+keyframes(titlebg)
  0%
    background-color: $pink-hint
  50%
    background-color: $blue-hint
  100%
    background-color: $pink-hint

#titlepage
  +animation(titlebg 60s infinite both)
  +background(linear-gradient(top left, rgba($pink-lighter,$xxxsmall), rgba($pink-lighter,$xxxsmall) 50%, rgba($green-lighter,$xxxsmall) 50%, rgba($green-lighter,$xxxsmall)))
  background-color: $pink-hint

  .novel-title
    +animation(linetiny 75s infinite both)
    +padding-trailer(2.5)
    background: image-url($line) repeat-x scroll 0 bottom

    .wrap
      +media-container
      text-transform: lowercase

    span
      +transition(all 300ms)
      display: block

  .into
    +animation(fadeIn 2s 1s ease both)
    +adjust-font-size-to($medpx,1)
    +float(left)
    +alpha
    +prefix(2)
    margin-right: .2em
  .the
    +animation(fadeIn 2s 2s ease both)
    +adjust-font-size-to($the,1)
    +float(left)
  .green1
    +animation(fadeIn 2s 3s ease both)
    +adjust-font-size-to($green1,1)
    +full
    +suffix(2)
    text-align: center
  .green2
    +animation(fadeIn 2s 4s ease both)
    +adjust-font-size-to($green2,1)
    +full
    +prefix(3)
  .mud
    +animation(fadeIn 2s 5s ease both)
    +adjust-font-size-to($medpx,1)
    +full
    +prefix(4)

  .byline
    +animation(fadeIn 3s 6s ease both)
    +media-full
    p
      +trailer(0)

  +small(height)

    .novel-title
      +animation(line 75s infinite both)
      +background-size(auto, rhythm(floor(image-height($scribble-sm)/$medpx)) - rhythm(1) auto)
      +padding-trailer(0)
      background:
        image: image-url($line), image-url($scribble-sm)
        repeat: repeat-x, no-repeat
        position: 0 center, center

    .green1
      +trailer(floor(image-height($scribble-sm)/$medpx) - 1,$green1)

  +small(width)
    .into
      +alpha
      +prefix(4)
    .green1
      +full
      +suffix(2)
    .green2
      +full
      +prefix(5)
    .mud
      +full
      +prefix(6)

  +small(both)
    .novel-title
      +background-size(auto, rhythm(floor(image-height($scribble-sm)/$medpx)) - rhythm(1) auto)

    .green1
      +trailer(floor(image-height($scribble-sm)/$medpx) - 1,$green1)

  +medium(height)
    .novel-title
      +background-size(auto, rhythm(floor(image-height($scribble)/$medpx)) auto)
      background-image: image-url($line), image-url($scribble)

    .into
      +full
      +prefix(2)
    .the
      +full
      +prefix(2)
      +float(none)
      margin-left: side-gutter() + gutter()*2
    .green1
      +trailer(floor(image-height($scribble)/$medpx),$green1)

  +medium(both)

    .green2
      +full
      +prefix(7)
    .mud
      +full
      +prefix(8)

    .byline
      +stretch-x
      bottom: rhythm(.5)
      .wrap
        +container


// copyright -----------------------------------------------------------------

// #copyright

// contents ------------------------------------------------------------------

#contents
  +small-only
    +adjust-font-size-to($smallpx)

  h4
    @extend .allcaps

  ol
    +adjust-font-size-to($smallpx)
    +trailer(1,$smallpx)

  .pagewrap
    +media-container

  .content
    +media-full
    +pad(1,1)
    +small
      +pad(1,1)
    +medium
      +pad(1,1)

  .contents
    +small
      +columns(4,8)
      &:last-child
        +omega(8)
    +medium
      +columns(5,10)
      &:last-child
        +omega(10)


// epigraph ------------------------------------------------------------------

// #epigraph
