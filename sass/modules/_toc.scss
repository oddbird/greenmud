// ----------------------------------------------------------------------------
// contents

$toc-break: round(absolute-ems($toc-break));

[class^="toc-"] {
  @include trailer;
  .book, li { @extend %ellipsis; }
  @include breakpoint($toc-break) {
    @include span-columns($toc-cols,$total-columns);
    @include nth-omega(last);
  }
}


// ----------------------------------------------------------------------------
// header toc

#toc {
  @extend %toc-counter;
  @include clearfix;
  background: $darkest;
  color: $control-text-color;
  a { @extend %control-link; }
  .wrap {
    @include container;
    @include padding-leader($control-line+.5);
    @include breakpoint($breadcrumb-break) { margin-left: rhythm($control-line*2); }
  }

  // show and hide toc
  @include transition(max-height 600ms ease);
  max-height: 0;
  &.active { max-height: 45em; }
}
