// mixins --------------------------------------------------------------------

.check
  @extend .allcaps
  +adjust-font-size-to($xsmallpx,.75,$smallpx)
  a
    +leading-border(1px,.125,$xsmallpx)
    display: block
    color: $red-darkest
    border-color: $red-lightest
    background: rgba($red-light,$xxsmall)
    &::before
      +opacity(.75)
      content: image-url('ui/x.png')
      margin: 0 rhythm(.375)
    #{$focus}
      color: $red-darkest
      background: rgba($red-light,$xsmall)
      &::before
        +opacity(1)

.successful
  a
    color: $base
    background: none
    &::before
      content: image-url('ui/check.png')
    #{$focus}
      color: $green-darkest
      background: rgba($green-lighter,$xxxsmall)

// home page -----------------------------------------------------------------

#home
  +text-shadow($white 0 1px 0)
  +background($off-blue-hint linear-gradient(top, rgba($off-blue-lightest,$xxxsmall), rgba($off-blue-lightest,0) rhythm(12)))

  .pagewrap
    +media-container
    +box-shadow(rgba($blue-lighter,$xxsmall) 0 rhythm(-1) rhythm(1))
    background: change-color($pink-hint,$lightness: 97%)
    overflow: hidden

  .novel-title
    +trailer(.25)
    +hpadding(side-gutter())
    +transition(padding 300ms)
    text-align: center
    p
      +trailer(0)
    .name
      +adjust-font-size-to($largepx,1.5)
    .tagline, .byline
      @extend .allcaps
      +adjust-font-size-to($smallpx)
      display: inline

  // Main Info ---------------------------------------------------------------
  .info
    +title($cyan-hint,$xsmall)
    +clearfix
    +padding-leader(1)
    +padding-trailer(1)
    +hpadding(side-gutter())

  .read, .action
    +trailer(.5)
    em
      @extend .allcaps
      font-style: normal
      white-space: nowrap

  .good
    +button($green-lighter,false,.25,$smallpx)
    display: none
    em
      display: block

  .fund
    +button($pink-lighter,false,.25,$smallpx)
    display: block

  .extra
    +adjust-font-size-to($smallpx)
    display: none

  .description
    +adjust-font-size-to($smallpx)
    +trailer(.5,$smallpx)
    clear: both
    h2
      @extend .allcaps
    p
      +trailer(0)

  // Browser Support ---------------------------------------------------------
  .bad
    +adjust-font-size-to($smallpx,.75)
    +rhythm-borders(1px,.25,$smallpx)
    +border-radius
    +box-shadow(rgba($red-light,$small) 0 0 $xsmallem inset)
    +text-shadow(rgba($lightest,$xsmall) 0 1px 0)
    display: block
    background: rgba($red-lighter,$small)
    border-color: $off-red
    p
      @extend .allcaps
      +trailer(.125,$smallpx)

  .checklist
    +no-style-list

  @media all and (min-width: 0px)
    .media
      @extend .successful

  .fontface & .fontface, .opacity & .opacity, .rgba & .rgba,
  .cssgradients & .cssgradients, .multiplebgs & .multiplebgs,
  .backgroundsize & .backgroundsize
    @extend .successful

  +support
    .good
      display: block
    .bad
      display: none

  // Footer ------------------------------------------------------------------

  .pageinfo
    +clearfix
    +adjust-font-size-to($smallpx)
    +padding-leader(1,$smallpx)
    background: $off-blue-hint

  .copyright, .colophon
    +full
    +trailer(.5,$smallpx)

  .copyright, .colophon a
    text-transform: uppercase

  // Media Queries -----------------------------------------------------------

  +small
    .info
      +hpadding(side-gutter())
    .extra
      display: block

    .description
      +columns(6,10)
      +hpadding(0)
      +trailer(0)
      clear: none

    .read, .action
      +columns(4,10)
      +omega(10)

    .colophon, .copyright
      margin: 0
      +columns(5)
      +trailer(.5,$smallpx)
      clear: none

    .copyright
      +alpha
    .colophon
      +omega

  +small(both)
    .pageinfo
      +adjust-font-size-to($xsmallpx,.75)
    .colophon, .copyright
      +trailer(.5,$xsmallpx)

  +small(height)
    .novel-title
      +animation(linetiny 75s infinite both)
      +padding-trailer(2.5)
      background: image-url($line) repeat-x scroll 0 bottom

  @media (min-width: 980px) and (min-height: 350px)
    .pagewrap
      +transition(all 300ms)
      background:
        image: image-url($strings-left), image-url($strings-right)
        position: left rhythm(-1), right rhythm(-1)
        repeat: no-repeat, no-repeat

  +medium
    .info
      +hpadding(side-gutter())

    .description
      +columns(7,12)

    .read, .action
      +columns(5,12)
      +omega(12)

    .colophon, .copyright
      +columns(5)
    .copyright
      +alpha
    .colophon
      +omega

  +medium(height)
    .pagewrap
      background-position: left top, right top

  +large(height)
    .pagewrap
      background-position: left rhythm(1), right rhythm(1)

